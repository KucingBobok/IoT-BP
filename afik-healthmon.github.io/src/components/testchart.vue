<template> <Line :data="chart" :options="chartOptions" /> </template> <script> import { Line } from "vue-chartjs"; import { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, } from "chart.js"; ChartJS.register( CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend ); export default { components: { Line }, props: { label: { type: String, }, chartData: { type: Array, required: true, }, options: { type: Object, }, }, data() { return { chart: { labels: [], datasets: [], }, chartOptions: this.options, }; }, computed: { formattedData() { return this.chartData.map((d) => ({ date: d.date, total: d.total })); }, }, watch: { formattedData: { immediate: true, handler(data) { this.chart.labels = data.map((d) => d.date).reverse(); this.chart.datasets = [ { label: this.label, data: data.map((d) => d.total).reverse(), }, ]; this.renderChart(this.chart, this.chartOptions); }, }, }, methods: { renderChart(chartData, chartOptions) { const chartInstance = this.$refs.lineChart.renderChart(chart